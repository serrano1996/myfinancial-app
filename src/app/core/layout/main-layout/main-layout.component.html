<div class="layout-container">
    <!-- Sidebar -->
    <aside class="sidebar" [class.collapsed]="isCollapsed">
        <div class="sidebar-header">
            <div class="logo">
                <div class="logo-icon-wrapper">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="none">
                        <defs>
                            <linearGradient id="navCoinGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#fef08a" />
                                <stop offset="100%" style="stop-color:#facc15" />
                            </linearGradient>
                            <linearGradient id="navPiggyBodyGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#f472b6" />
                                <stop offset="100%" style="stop-color:#db2777" />
                            </linearGradient>
                            <linearGradient id="navPiggySnoutGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#f9a8d4" />
                                <stop offset="100%" style="stop-color:#f472b6" />
                            </linearGradient>
                        </defs>
                        <g transform="translate(45, 10)">
                            <circle cx="15" cy="15" r="14" fill="url(#navCoinGradient)" stroke="#eab308"
                                stroke-width="1" />
                            <text x="15" y="20" font-family="Arial" font-weight="bold" font-size="12" fill="#d97706"
                                text-anchor="middle">$</text>
                        </g>
                        <g>
                            <ellipse cx="50" cy="65" rx="35" ry="28" fill="url(#navPiggyBodyGradient)" />
                            <path d="M35 85 L35 95 L45 95 L45 88 Z" fill="#db2777" />
                            <path d="M65 85 L65 95 L75 95 L75 88 Z" fill="#db2777" />
                            <path d="M30 50 Q 20 40 25 35 Q 35 35 40 45 Z" fill="url(#navPiggySnoutGradient)" />
                            <path d="M70 50 Q 80 40 75 35 Q 65 35 60 45 Z" fill="url(#navPiggySnoutGradient)" />
                            <ellipse cx="25" cy="68" rx="12" ry="10" fill="url(#navPiggySnoutGradient)" />
                            <circle cx="20" cy="68" r="2" fill="#be185d" />
                            <circle cx="30" cy="68" r="2" fill="#be185d" />
                            <circle cx="35" cy="55" r="3" fill="#1f2937" />
                            <path d="M82 60 Q 90 55 92 62 Q 94 68 88 65" fill="none" stroke="#f472b6" stroke-width="3"
                                stroke-linecap="round" />
                        </g>
                    </svg>
                </div>
                <span class="logo-text" *ngIf="!isCollapsed">MyFinance</span>
            </div>

            <!-- Toggle Button -->
            <button class="toggle-btn" (click)="toggleSidebar()" [class.rotated]="isCollapsed">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="15 18 9 12 15 6"></polyline>
                </svg>
            </button>
        </div>

        <nav class="sidebar-nav">
            <a routerLink="/dashboard" routerLinkActive="active" class="nav-item">
                <span class="nav-icon" title="{{ 'LAYOUT.SIDEBAR.DASHBOARD' | translate }}">üìä</span>
                <span *ngIf="!isCollapsed" class="nav-text">{{ 'LAYOUT.SIDEBAR.DASHBOARD' | translate }}</span>
            </a>
            <a routerLink="/accounts" routerLinkActive="active" class="nav-item">
                <span class="nav-icon" title="{{ 'LAYOUT.SIDEBAR.ACCOUNTS' | translate }}">üí≥</span>
                <span *ngIf="!isCollapsed" class="nav-text">{{ 'LAYOUT.SIDEBAR.ACCOUNTS' | translate }}</span>
            </a>
            <a routerLink="/categories" routerLinkActive="active" class="nav-item">
                <span class="nav-icon" title="{{ 'LAYOUT.SIDEBAR.CATEGORIES' | translate }}">üè∑Ô∏è</span>
                <span *ngIf="!isCollapsed" class="nav-text">{{ 'LAYOUT.SIDEBAR.CATEGORIES' | translate }}</span>
            </a>
            <a routerLink="/transactions" routerLinkActive="active" class="nav-item">
                <span class="nav-icon" title="{{ 'LAYOUT.SIDEBAR.TRANSACTIONS' | translate }}">üßæ</span>
                <span *ngIf="!isCollapsed" class="nav-text">{{ 'LAYOUT.SIDEBAR.TRANSACTIONS' | translate }}</span>
            </a>
            <a routerLink="/profile" routerLinkActive="active" class="nav-item">
                <span class="nav-icon" title="{{ 'LAYOUT.SIDEBAR.PROFILE' | translate }}">üë§</span>
                <span *ngIf="!isCollapsed" class="nav-text">{{ 'LAYOUT.SIDEBAR.PROFILE' | translate }}</span>
            </a>
        </nav>

        <div class="sidebar-footer">
            <button (click)="logout()" class="nav-item logout-btn">
                <span class="nav-icon" title="{{ 'LAYOUT.SIDEBAR.LOGOUT' | translate }}">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="logout-icon-svg">
                        <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                        <polyline points="16 17 21 12 16 7"></polyline>
                        <line x1="21" y1="12" x2="9" y2="12"></line>
                    </svg>
                </span>
                <span *ngIf="!isCollapsed" class="nav-text">{{ 'LAYOUT.SIDEBAR.LOGOUT' | translate }}</span>
            </button>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Mobile Header -->
        <!-- Mobile Header -->
        <header class="mobile-header">
            <button class="mobile-toggle-btn" (click)="toggleSidebar()">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="3" y1="12" x2="21" y2="12"></line>
                    <line x1="3" y1="6" x2="21" y2="6"></line>
                    <line x1="3" y1="18" x2="21" y2="18"></line>
                </svg>
            </button>

            <div class="mobile-brand">
                <div class="mobile-logo-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="none">
                        <defs>
                            <linearGradient id="mobileCoinGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#fef08a" />
                                <stop offset="100%" style="stop-color:#facc15" />
                            </linearGradient>
                            <linearGradient id="mobilePiggyBodyGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#f472b6" />
                                <stop offset="100%" style="stop-color:#db2777" />
                            </linearGradient>
                            <linearGradient id="mobilePiggySnoutGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#f9a8d4" />
                                <stop offset="100%" style="stop-color:#f472b6" />
                            </linearGradient>
                        </defs>
                        <g transform="translate(45, 10)">
                            <circle cx="15" cy="15" r="14" fill="url(#mobileCoinGradient)" stroke="#eab308"
                                stroke-width="1" />
                            <text x="15" y="20" font-family="Arial" font-weight="bold" font-size="12" fill="#d97706"
                                text-anchor="middle">$</text>
                        </g>
                        <g>
                            <ellipse cx="50" cy="65" rx="35" ry="28" fill="url(#mobilePiggyBodyGradient)" />
                            <path d="M35 85 L35 95 L45 95 L45 88 Z" fill="#db2777" />
                            <path d="M65 85 L65 95 L75 95 L75 88 Z" fill="#db2777" />
                            <path d="M30 50 Q 20 40 25 35 Q 35 35 40 45 Z" fill="url(#mobilePiggySnoutGradient)" />
                            <path d="M70 50 Q 80 40 75 35 Q 65 35 60 45 Z" fill="url(#mobilePiggySnoutGradient)" />
                            <ellipse cx="25" cy="68" rx="12" ry="10" fill="url(#mobilePiggySnoutGradient)" />
                            <circle cx="20" cy="68" r="2" fill="#be185d" />
                            <circle cx="30" cy="68" r="2" fill="#be185d" />
                            <circle cx="35" cy="55" r="3" fill="#1f2937" />
                            <path d="M82 60 Q 90 55 92 62 Q 94 68 88 65" fill="none" stroke="#f472b6" stroke-width="3"
                                stroke-linecap="round" />
                        </g>
                    </svg>
                </div>
                <span class="mobile-logo-text">MyFinance</span>
            </div>
        </header>

        <router-outlet></router-outlet>
    </main>

    <!-- Overlay for mobile -->
    <div class="sidebar-overlay" *ngIf="!isCollapsed" (click)="closeSidebar()"></div>
</div>